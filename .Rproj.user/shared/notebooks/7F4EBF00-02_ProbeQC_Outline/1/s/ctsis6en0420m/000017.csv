"0","#Define the relevance threshold"
"0","relevance_threshold_percentage <- (2/3 * 100) - 0.001"
"0",""
"0","# 2. For each probe and condition, determine if it's ""relevant"
"0","is_relevant_per_condition_matrix <- relevance_results_df > relevance_threshold_percentage"
"0","print(head(is_relevant_per_condition_matrix[, 1:min(3, ncol(is_relevant_per_condition_matrix))], 3))"
"1","       "
"1"," DMSOHigh_P1"
"1"," DMSOLow_P1"
"1"," Medium_P6"
"1","
A2M_1  "
"1","        TRUE"
"1","       TRUE"
"1","      TRUE"
"1","
AAMP_2 "
"1","        TRUE"
"1","       TRUE"
"1","      TRUE"
"1","
AARS1_3"
"1","        TRUE"
"1","       TRUE"
"1","      TRUE"
"1","
"
"0","# 3. Calculate 'n_relevant': the number of conditions for which each probe is relevant."
"0","n_relevant_per_probe <- rowSums(is_relevant_per_condition_matrix, na.rm = TRUE)"
"0",""
"0","# 4. Create a data frame with 'probe_name' "
"0","relevance_summary_for_manifest <- data.frame("
"0","  probe_name = rownames(relevance_results_df), # These are the GENESYMBOL_PROBEID names"
"0","  n_relevant = n_relevant_per_probe"
"0",")"
"0","print(head(relevance_summary_for_manifest, 3))"
