"0","# 1. Identify probes where the 'gene_symbol' and 'gene_symbol_old' indicate an update."
"0","# An update occurs if:"
"0","#   a) Both had symbols, but they are different."
"0","#   b) One had a symbol, and the other is NA (or vice-versa)."
"0","updated_annotation_probes <- manifest %>%"
"0"," filter("
"0","    # Case 1: Both old and new gene symbols exist (are not NA) AND they are different"
"0","    (!is.na(gene_symbol_old) & !is.na(gene_symbol) & gene_symbol_old != gene_symbol) |"
"0","    # Case 2: Old gene symbol existed, but new gene symbol is NA (annotation lost)"
"0","    (!is.na(gene_symbol_old) & is.na(gene_symbol)) |"
"0","    # Case 3: Old gene symbol was NA, but new gene symbol exists (annotation gained)"
"0","    (is.na(gene_symbol_old) & !is.na(gene_symbol))"
"0"," )"
"0",""
"0","print(updated_annotation_probes)"
